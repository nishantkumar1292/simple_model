# Valid nested ensemble config - trains a complex model graph from a single YAML
model: ensemble
strategy: weighted
hyperparameters:
  weights: [0.3, 0.3, 0.4]

base_models:
  - model: xgboost
    train: true
    hyperparameters:
      n_estimators: 100
      max_depth: 6

  - model: random_forest
    train: true
    hyperparameters:
      n_estimators: 100
      max_depth: 5

  - model: ensemble
    strategy: xgboost
    hyperparameters:
      n_estimators: 50
      max_depth: 4
    base_models:
      - model: ensemble
        strategy: mean
        base_models:
          - model: xgboost
            train: true
          - model: random_forest
            train: true
      - model: xgboost
        train: true
